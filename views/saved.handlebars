<div class="container">

	<div class="row">
		<img src="assets/images/news.png" class="background">
	</div>

	<hr>
	
  {{!-- Our each loop that creates a row for each article in our DB: --}}
	{{#each this}}

	<div class="row articlerow">
		<div class="col-2.5">
			<img class="articleimages" src="{{image}}">
		</div>
		<div class="col">
			<div id="articletext">
				<h4>{{title}}</h4>
				<p>{{summary}}</p>
				<a href="{{link}}" target="_blank">Link to article (opens in new tab)</a>
			</div>
		</div>
		<div class="col-2 align-self-end text-center">
			<button data-id="{{this._id}}" class="btn unsave btn-warning">Unsave Article</button>
			<button data-id="{{this._id}}" class="btn addnote btn-success" data-toggle="modal" data-target="#{{this._id}}">
				Add Note
			</button>
			<button data-id="{{this._id}}" class="btn viewnotes btn-primary" data-toggle="modal" data-target="#viewnotesmodal">
				View Notes
			</button>
		</div>
	</div>

	<hr>
	
	{{/each}}

</div>

{{!-- Our each loop that creates different 'Add Note' modals for every article  --}}
{{#each this}}
<div class="modal fade" id="{{this._id}}" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add a Note to this article: </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
      	<form>
      		<div class="form-group">
      			<textarea class="form-control" id="{{this._id}}input" rows="3"></textarea>
      		</div>
      	</form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
        <button type="button" data-id="{{this._id}}" class="btn submitnote btn-success">Submit Note</button>
      </div>
    </div>
  </div>
</div>
{{/each}}

{{!-- Modal that displays Notes saved for each article. It gets populated dynamically in app.js --}}
<div class="modal fade" id="viewnotesmodal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Article notes:</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div id="notebody" class="modal-body">
	
	  You haven't made any notes for this article yet!

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
